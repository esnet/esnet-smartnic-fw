
# User provided environment variables
#   SN_INGRESS_TLS_FULLCHAIN: '{{ env `SN_INGRESS_TLS_FULLCHAIN` }}'
#   SN_INGRESS_TLS_KEY      : '{{ env `SN_INGRESS_TLS_KEY` }}'
#
# If either of these are empty, traefik will auto-generate a self-signed certificate rather than
# using the user provided cert or key.

{{ if and (not (empty (env `SN_INGRESS_TLS_FULLCHAIN`))) (not (empty (env `SN_INGRESS_TLS_KEY`))) }}
# User has provided relative paths to both a pre-generated TLS certificate and key.
# These files must both be provided by the user via a bind mounted path from the host.
tls:
  stores:
    default:
      defaultCertificate:
        certFile: "/etc/letsencrypt/{{ env `SN_INGRESS_TLS_FULLCHAIN` }}"
        keyFile:  "/etc/letsencrypt/{{ env `SN_INGRESS_TLS_KEY` }}"
{{ else }}
# The user has NOT provided necessary details for their own TLS certificate.
# A self-signed TLS certificate will be automatically generated by traefik.
{{ end }}
