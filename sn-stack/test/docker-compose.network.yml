# This file's contents will be merged into the sn-stack main docker compose
# file to allow pip installation of packages during test development whenever
# the --pip-install (-p) option is passed to run.sh.
# Refer to https://docs.docker.com/compose/multiple-compose-files/merge/

# Define a custom network for the test service.
networks:
  smartnic-fw-test-net:
    driver: bridge
    enable_ipv6: true
    ipam:
      driver: default
      config:
        - subnet: 10.99.0.0/16
          gateway: 10.99.0.1
        - subnet: fdd5:b4c0:1237:763f::/64
          gateway: fdd5:b4c0:1237:763f::1


# Force the test service to use the custom network instead of the default.
services:
  smartnic-fw-test:
    networks:
      - smartnic-fw-test-net
